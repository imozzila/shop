{% extends "index.html" %}
{% block link %}
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='basket.css') }}">
{% endblock %}
{% block sub_banner%}
<div class="sub_first"></div>
<div class="sub_second">Name</div>
<div class="sub_third">Price</div>

{%endblock%}
{% block content %}
<!-- We need a for loop here which prints each item in the basket-->
<<<<<<< HEAD
<form id="basket" action="{{url_for('updateBasket')}}">
{% for item in contents %}
<div name="{{item.ItemId}}">
  {{ item.ItemName }}
  {{ item.ItemPrice }}
  <button type="submit" onsubmit="removeSelf({{item.ItemId}})">Remove</button>
=======
<div class="basket">
<form method = "POST" id="basket">
{% for item in contents %}
<div class ="item" name="{{item.ItemId}}">
  <img src="{{url_for('static', filename='images/'+item.ItemLink)}}" />
  <div class="name">{{ item.ItemName }}</div>
  <div class="price">{{ item.ItemPrice }}</div>
  <button type="submit" formaction="{{url_for('updateBasket')}}?item={{item.ItemId}}">Remove</button>
>>>>>>> origin/master
</div>
{% endfor %}
</form>
</div>
<form method ="POST" class="checkout" id="checkout">
<button type="submit" formaction="{{url_for('checkout')}}">Checkout</button>
<div class="totalprice">Total Price: {{totalprice}}</div>
</form>
{% endblock %}
{% block script %}
<script type="text/javascript">
  function removeSelf(itemId){
    var request = new XMLHttpRequest();
    request.addEventListener('load', addShow);
    request.open('POST', {{ url_for('updateBasket')|tojson }});
    request.send(new FormData(itemId));
  }
</script>
{% endblock %}
